---
apiVersion: v1
kind: ConfigMap
metadata:
  name: rauthy-config
  namespace: security
data:
  config.toml: |
    # Rauthy Minimal Configuration
    # Secrets are injected via environment variables from ExternalSecret

    [cluster]
    # Single node deployment - node_id and nodes set via env vars
    # HQL_NODE_ID, HQL_NODES, HQL_SECRET_RAFT, HQL_SECRET_API

    [encryption]
    # ENC_KEYS and ENC_KEY_ACTIVE set via env vars

    [server]
    # PUB_URL, PROXY_MODE, TRUSTED_PROXIES set via env vars
    # scheme = "http"
    # port_http = 8080

    [webauthn]
    # RP_ID and RP_ORIGIN set via env vars

    [logging]
    # LOG_LEVEL and LOG_LEVEL_ACCESS set via env vars
