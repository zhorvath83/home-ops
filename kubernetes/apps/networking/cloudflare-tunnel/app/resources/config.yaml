---
originRequest:
  http2Origin: true

# https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/configuration/ingress
ingress:
  - hostname: "${PUBLIC_DOMAIN}"
    service: &nginx-svc "https://ingress-nginx-controller.networking.svc.cluster.local"
    originRequest:
      noTLSVerify: true
  - hostname: "dash.${PUBLIC_DOMAIN}"
    service: &traefik-svc "https://traefik.networking.svc.cluster.local"
    originRequest:
      noTLSVerify: true
  - hostname: "id.${PUBLIC_DOMAIN}"
    service: *traefik-svc
    originRequest:
      noTLSVerify: true
  - hostname: "auth.${PUBLIC_DOMAIN}"
    service: *traefik-svc
    originRequest:
      noTLSVerify: true
  - hostname: "*.${PUBLIC_DOMAIN}"
    service: *nginx-svc
    originRequest:
      noTLSVerify: true
  - service: http_status:404
