---
originRequest:
  http2Origin: true
  originServerName: "${PUBLIC_DOMAIN}"

# https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/configuration/ingress
ingress:
  - hostname: "${PUBLIC_DOMAIN}"
    service: &svc "https://ingress-nginx-controller.networking.svc.cluster.local"
    originRequest: &oReq
      originServerName: "${PUBLIC_DOMAIN}"
  - hostname: "*.${PUBLIC_DOMAIN}"
    service: *svc
    originRequest: *oReq
  - service: http_status:404
